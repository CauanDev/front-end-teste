{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport http from \"@/services/http.js\";\nimport TitleView from \"../components/Title/TitleView.vue\";\nimport { format } from \"date-fns\";\nimport LoadingCircle from \"../components/loading/LoadingCircle.vue\";\nimport TableNormal from \"../components/Table/TableNormal.vue\";\nimport CountChart from \"../components/chards/CountChard.vue\";\nimport SexChard from \"../components/chards/SexChard.vue\";\nimport AgeChard from \"../components/chards/AgeChard.vue\";\nimport AgeChardSplit from \"../components/chards/AgeChardSplit.vue\";\nimport CountChardSplit from \"../components/chards/CountChardSplit.vue\";\nimport BrandChard from \"../components/chards/BrandChard.vue\";\nimport FilterOwner from \"../components/filter/FilterOwner.vue\";\nimport FilterWorker from \"../components/filter/FilterWorker.vue\";\nimport FilterUser from \"../components/filter/FilterUser.vue\";\nimport FilterVehicles from \"../components/filter/FilterVehicles.vue\";\nimport FilterService from \"../components/filter/FilterService.vue\";\nimport { useAuth } from \"@/stores/auth.js\";\nexport default {\n  name: \"DashBoard\",\n  components: {\n    TitleView,\n    LoadingCircle,\n    TableNormal,\n    CountChart,\n    SexChard,\n    AgeChard,\n    AgeChardSplit,\n    CountChardSplit,\n    BrandChard,\n    FilterOwner,\n    FilterWorker,\n    FilterUser,\n    FilterVehicles,\n    FilterService\n  },\n  data() {\n    return {\n      title: \"\",\n      subDataExist: false,\n      loading: false,\n      generate: true,\n      users: [],\n      headers: [\"Selecione Um Relatório\"],\n      array: {},\n      subHeaders: [],\n      subArray: {},\n      openSubTable: false,\n      splitBySex: false,\n      filterChecked: false,\n      userFilter: false,\n      ownerFilter: false,\n      carsFilter: false,\n      selectedFilter: \"users\",\n      servicesFilter: false,\n      workersFilter: false,\n      modalFilter: true,\n      openModal: false,\n      filterOwner: {},\n      filterWorker: {},\n      filterUser: {},\n      filterVehicles: {},\n      filterService: {}\n    };\n  },\n  methods: {\n    openChardModal() {\n      this.modalChart = true;\n      this.openModal = false;\n    },\n    close() {\n      this.filter = {};\n      this.modalContent = \"\", this.openModal = true;\n      this.modalFilter = false;\n      this.modalChart = false;\n      this.generate = false;\n      this.loading = false;\n    },\n    openFilterModal() {\n      this.modalFilter = true;\n      this.openModal = false;\n    },\n    toggleCheckbox(option) {\n      if (option == \"allChecked\") {\n        this.filterChecked = false;\n        this.allChecked = true;\n      }\n      if (option == \"filterChecked\") {\n        this.allChecked = false;\n        this.filterChecked = true;\n      }\n    },\n    getFilterName() {\n      if (this.selectedFilter === \"owners\") return \"Proprietários\";\n      if (this.selectedFilter === \"workers\") return \"Funcionários\";\n      if (this.selectedFilter === \"users\") return \"Usuários\";\n      if (this.selectedFilter === \"cars\") return \"Veículos\";\n      return \"Revisões\";\n    },\n    async getBody(id) {\n      try {\n        const {\n          data\n        } = await http.get(`/cars-all/${id}`);\n        return data.data;\n      } catch (error) {\n        console.error(`Erro ao obter body para id ${id}:`, error);\n        throw error;\n      }\n    },\n    showDetails(details) {\n      this.modalContent = details;\n      this.owner = {\n        ...details\n      };\n      this.newUser = this.owner;\n      this.openModal = false;\n    },\n    setFilter() {\n      if (this.selectedFilter === \"owners\") this.filterOwners();\n      if (this.selectedFilter === \"services\") this.filterServices();\n      if (this.selectedFilter === \"cars\") this.filterCars();\n      if (this.selectedFilter === \"users\") this.filterUsers();\n      if (this.selectedFilter === \"workers\") this.filterWorkers();\n    },\n    async setArrayOwners(array) {\n      this.subDataExist = false;\n      this.title = \"Proprietarios\";\n      this.array = await Promise.all(array.map(async owner => {\n        try {\n          const body = await http.get(\"/cars-all/\" + owner.id);\n          return {\n            name: owner.name,\n            age: owner.age,\n            contServices: owner.number_services ? owner.number_services : \"Nenhum Agendamento\",\n            contCars: body.data.count,\n            created_at: format(new Date(owner.created_at), \"dd/MM/yyyy\")\n          };\n        } catch (error) {\n          console.log(error);\n          return {\n            name: owner.name,\n            contServices: owner.number_services,\n            contCars: 0,\n            created_at: format(new Date(owner.created_at), \"dd/MM/yyyy\")\n          };\n        }\n      }));\n    },\n    async setArrayVehicles(array) {\n      this.title = \"Veiculos\";\n      this.array = await Promise.all(array.map(async car => {\n        try {\n          const body = await http.get(\"/cars-all/\" + car.owner_id);\n          return {\n            owner_name: body.data.data.owner.name,\n            name: car.brand + \" \" + car.model + \" \" + car.year,\n            contServices: car.number_services,\n            last_service: car.last_service ? format(new Date(car.last_service), \"dd/MM/yyyy\") : \"Nenhum Agendamento\"\n          };\n        } catch (error) {\n          console.log(error);\n        }\n      }));\n      this.headers = [\"Nome Proprietário\", \"Carro\", \"Quantidade Revisões\", \"Última Revisão\"];\n      this.close();\n    },\n    setArrayUsers(array) {\n      this.title = \"Usuarios\";\n      this.subDataExist = false;\n      this.array = array.map(user => {\n        return {\n          name: user.name,\n          email: user.email,\n          created_at: format(new Date(user.created_at), \"dd/MM/yyyy\")\n        };\n      });\n    },\n    async getOwnerName(id) {\n      const data = await http.get(\"/owners-all\");\n      const objetosEncontrados = data.data.owners.filter(objeto => objeto.id === id);\n      return objetosEncontrados[0].name;\n    },\n    async getWorkerName(id) {\n      const data = await http.get(\"/worker/\" + id);\n      return data.data.worker[0].name;\n    },\n    async setArrayServices(array) {\n      this.headers = [\"Nome Proprietario\", \"Valor\", \"Feito Em\", \"Mecanico Responsavel\"];\n      this.array = await Promise.all(array.map(async service => {\n        try {\n          console.log(service);\n          const worker = await this.getWorkerName(service.worker_id);\n          const owner = await this.getOwnerName(service.owner_id);\n          return {\n            name: owner,\n            salary: \"R$ \" + service.price,\n            date: format(new Date(service.date_service), \"dd/MM/yyyy\"),\n            worker: worker\n          };\n        } catch (error) {\n          console.log(error);\n        }\n      }));\n    },\n    async setArrayWorkers(array) {\n      this.title = \"Funcionarios\";\n      this.subDataExist = false;\n      this.array = await Promise.all(array.map(async worker => {\n        try {\n          const body = await http.get(\"/worker/\" + worker.id);\n          return {\n            name: worker.name,\n            salary: \"R$ \" + worker.salary,\n            contServices: body.data.count,\n            created_at: format(new Date(worker.created_at), \"dd/MM/yyyy\")\n          };\n        } catch (error) {\n          console.log(error);\n          return {\n            name: worker.name,\n            salary: \"R$ \" + worker.salary,\n            contServices: 0,\n            created_at: format(new Date(worker.created_at), \"dd/MM/yyyy\")\n          };\n        }\n      }));\n    },\n    async filterOwners() {\n      if (Object.keys(this.filterOwner).length === 0) {\n        this.loading = true;\n        try {\n          const data = await http.get(\"/owners-all\");\n          await this.setArrayOwners(data.data.owners);\n          this.generate = false;\n          this.loading = false;\n          this.headers = [\"Nome\", \"Idade\", \"Quantidade de Revisões\", \"Quantidade de Carro\", \"Criado Em\"];\n        } catch (error) {\n          console.log(error);\n        }\n        this.loading = false;\n        this.close();\n      } else {\n        this.loading = true;\n        try {\n          console.log(this.filterOwner);\n          const data = await http.post(\"/filter-owners\", this.filterOwner);\n          if (data.data.owner.length == 0) {\n            alert(\"Sua Consulta Retornou zero\");\n          } else {\n            await this.setArrayOwners(data.data.owner);\n            this.close();\n            this.headers = [\"Nome\", \"Idade\", \"Quantidade de Revisões\", \"Quantidade de Carro\", \"Criado Em\"];\n          }\n          this.generate = false;\n        } catch (error) {\n          console.log(error);\n        }\n        this.loading = false;\n      }\n    },\n    async filterWorkers() {\n      console.log(\"Iniciando Filtro de Workers\");\n      if (Object.keys(this.filterWorker).length === 0) {\n        this.loading = true;\n        const data = await http.get(\"/workers-all\");\n        await this.setArrayWorkers(data.data.workers);\n        this.headers = [\"Nome\", \"Salário\", \"Quantidade de Serviços\", \"Criado Em\"];\n        this.close();\n      } else {\n        this.loading = true;\n        try {\n          const data = await http.post(\"/filter-workers\", this.filterWorker);\n          if (data.data.workers.length == 0) {\n            alert(\"Sua Consulta Retornou zero\");\n          } else {\n            await this.setArrayWorkers(data.data.workers);\n            this.close();\n            this.headers = [\"Nome\", \"Salário\", \"Quantidade de Serviços\", \"Criado Em\"];\n          }\n        } catch (error) {\n          console.log(error);\n        }\n        this.loading = false;\n      }\n    },\n    async filterCars() {\n      if (Object.keys(this.filterVehicles).length === 0) {\n        try {\n          const data = await http.get('/cars-all');\n          this.setArrayVehicles(data.data.cars);\n        } catch (error) {\n          console.log(error);\n        }\n      } else {\n        try {\n          const data = await http.post('/cars-filter', this.filterVehicles);\n          if (data.data.length == 0) {\n            alert(\"Sua Consulta Retornou Zero\");\n            this.filterVehicles = {};\n          } else {\n            const response = data.data.order;\n            if (this.filterVehicles.subOrder) {\n              if (Object.keys(this.filterVehicles).length === 1) {\n                this.title = \"Veiculos\"[(this.headers, this.array)] = this.setCarsSubOrder(response);\n                this.close();\n              } else {\n                [this.subHeaders, this.subArray] = this.setCarsSubOrder(response);\n                this.subDataExist = true;\n                this.setArrayVehicles(data.data.cars);\n                this.close();\n              }\n            } else this.setArrayVehicles(data.data);\n          }\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    },\n    setCarsSubOrder(response) {\n      let headers = [];\n      let body = [];\n      if (this.filterVehicles.subOrder === \"moreVehicleSex\") {\n        headers = [\"Masculino\", \"Feminino\"];\n        body = [{\n          \"man\": response.man,\n          \"woman\": response.woman\n        }];\n      }\n      if (this.filterVehicles.subOrder === \"countModel\") {\n        headers = [\"Nome da Marca\", \"Quantidade de Carros\"];\n        body = response.map(item => {\n          return {\n            \"brand\": item.brand,\n            \"total\": item.car_count\n          };\n        });\n        console.log(body);\n        console.log(\"foi\");\n      }\n      if (this.filterVehicles.subOrder === \"countModelSex\") {\n        headers = [\"Sexo\", \"Marca\", \"Quantidade\"];\n        response.man.forEach(item => {\n          body.push({\n            gender: 'Masculino',\n            brand: item.brand,\n            total_cars: item.total_cars\n          });\n        });\n        response.women.forEach(item => {\n          body.push({\n            gender: 'Feminino',\n            brand: item.brand,\n            total_cars: item.total_cars\n          });\n        });\n        if (response.moreCarsSex === \"Feminino\") body = body.reverse();\n      }\n      return [headers, body];\n    },\n    async filterUsers() {\n      this.loading = true;\n      if (Object.keys(this.filterUser).length === 0) {\n        try {\n          this.loading = true;\n          const data = await http.get(\"users-all\");\n          this.setArrayUsers(data.data.users);\n          this.loading = false;\n          this.headers = [\"Nome\", \"Email\", \"Criado Em\"];\n          this.close();\n        } catch (error) {\n          console.log(error);\n        }\n      } else {\n        try {\n          this.loading = true;\n          const data = await http.post('/filter-users', this.filterUser);\n          this.headers = [\"Nome\", \"Email\", \"Criado Em\"];\n          this.setArrayUsers(data.data.users);\n          this.close();\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    },\n    async filterServices() {\n      this.loading = true;\n      console.log(\"Iniciando Filtro de Services\");\n      if (Object.keys(this.filterService).length === 0) {\n        try {\n          const data = await http.get('/all-services');\n          this.setArrayServices(data.data.services);\n          this.close();\n        } catch (error) {\n          console.log(error);\n        }\n      } else {\n        try {\n          const data = await http.post('/filter-services', this.filterService);\n          this.setArrayServices(data.data);\n          this.close();\n        } catch (error) {\n          console.log(error);\n        }\n      }\n      this.loading = false;\n    },\n    async generateReport() {\n      this.loading = true;\n      try {\n        if (this.subDataExist) console.log(this.subArray);\n        console.log(this.subArray);\n        const data = await http.post(\"/generate-report\", {\n          head: this.headers,\n          body: this.array,\n          title: \"de Funcionários\",\n          subHead: this.subHeaders,\n          subBody: this.subArray,\n          subDataExist: `${this.subDataExist}`,\n          user: this.getName()\n        }, {\n          responseType: \"blob\"\n        });\n        const url = window.URL.createObjectURL(new Blob([data.data]));\n        const link = document.createElement(\"a\");\n        link.href = url;\n        link.setAttribute(\"download\", \"relatorio.pdf\");\n        document.body.appendChild(link);\n        link.click();\n        window.URL.revokeObjectURL(url);\n        this.loading = false;\n      } catch (error) {\n        console.log(error.response.data);\n      }\n    },\n    getName() {\n      const auth = useAuth();\n      if (auth.isAuthenticated) return auth.user.name;\n    }\n  },\n  watch: {\n    minAge(newVal) {\n      this.minAge = newVal.replace(/\\D+/g, \"\");\n    },\n    maxAge(newVal) {\n      this.maxAge = newVal.replace(/\\D+/g, \"\");\n    },\n    filterName(newVal) {\n      this.filterName = newVal.replace(/\\d+/g, \"\");\n    }\n  },\n  mounted() {},\n  computed: {\n    filterChar() {\n      if (this.allChecked) return this.allArray;\n      if (this.filterChecked) return this.users;\n      return [];\n    }\n  }\n};","map":{"version":3,"names":["http","TitleView","format","LoadingCircle","TableNormal","CountChart","SexChard","AgeChard","AgeChardSplit","CountChardSplit","BrandChard","FilterOwner","FilterWorker","FilterUser","FilterVehicles","FilterService","useAuth","name","components","data","title","subDataExist","loading","generate","users","headers","array","subHeaders","subArray","openSubTable","splitBySex","filterChecked","userFilter","ownerFilter","carsFilter","selectedFilter","servicesFilter","workersFilter","modalFilter","openModal","filterOwner","filterWorker","filterUser","filterVehicles","filterService","methods","openChardModal","modalChart","close","filter","modalContent","openFilterModal","toggleCheckbox","option","allChecked","getFilterName","getBody","id","get","error","console","showDetails","details","owner","newUser","setFilter","filterOwners","filterServices","filterCars","filterUsers","filterWorkers","setArrayOwners","Promise","all","map","body","age","contServices","number_services","contCars","count","created_at","Date","log","setArrayVehicles","car","owner_id","owner_name","brand","model","year","last_service","setArrayUsers","user","email","getOwnerName","objetosEncontrados","owners","objeto","getWorkerName","worker","setArrayServices","service","worker_id","salary","price","date","date_service","setArrayWorkers","Object","keys","length","post","alert","workers","cars","response","order","subOrder","setCarsSubOrder","man","woman","item","car_count","forEach","push","gender","total_cars","women","moreCarsSex","reverse","services","generateReport","head","subHead","subBody","getName","responseType","url","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","appendChild","click","revokeObjectURL","auth","isAuthenticated","watch","minAge","newVal","replace","maxAge","filterName","mounted","computed","filterChar","allArray"],"sources":["/home/kel/Documents/PHP/Projetos/TesteJunior/front-end-teste/src/views/DashBoard.vue"],"sourcesContent":["<template>\n  <LoadingCircle v-if=\"loading\" />\n\n  <div>\n    <TitleView title=\"Relatórios\" />\n  </div>\n  <div>\n    <div class=\"flex justify-center w-full mt-10\">\n      <button\n        type=\"button\"\n        class=\"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2\"\n        @click=\"openFilterModal\"\n      >\n        Selecionar Relatório\n      </button>\n      <button\n        type=\"button\"\n        class=\"focus:outline-none text-white bg-purple-700 hover:bg-purple-800 focus:ring-4 focus:ring-purple-300 font-medium rounded-lg text-sm px-5 py-2.5 mb-2\"\n        @click=\"openChardModal\"\n      >\n        Visualizar Gráficos\n      </button>\n      <button\n        type=\"button\"\n        :disabled=\"generate\"\n        :class=\"{ 'cursor-not-allowed': generate }\"\n        @click=\"generateReport\"\n        class=\"text-white bg-[#FF9119] hover:bg-[#FF9119]/80 focus:ring-4 ml-2 focus:outline-none focus:ring-[#FF9119]/50 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:hover:bg-[#FF9119]/80 dark:focus:ring-[#FF9119]/40 me-2 mb-2\"\n      >\n        <svg\n          fill=\"#ffffff\"\n          class=\"size-5 mr-1\"\n          version=\"1.1\"\n          id=\"Layer_1\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n          viewBox=\"0 0 64 64\"\n          enable-background=\"new 0 0 64 64\"\n          xml:space=\"preserve\"\n          stroke=\"#ffffff\"\n        >\n          <g id=\"SVGRepo_bgCarrier\" stroke-width=\"0\"></g>\n          <g\n            id=\"SVGRepo_tracerCarrier\"\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n          ></g>\n          <g id=\"SVGRepo_iconCarrier\">\n            <g id=\"Text-files\">\n              <path\n                d=\"M53.9791489,9.1429005H50.010849c-0.0826988,0-0.1562004,0.0283995-0.2331009,0.0469999V5.0228 C49.7777481,2.253,47.4731483,0,44.6398468,0h-34.422596C7.3839517,0,5.0793519,2.253,5.0793519,5.0228v46.8432999 c0,2.7697983,2.3045998,5.0228004,5.1378999,5.0228004h6.0367002v2.2678986C16.253952,61.8274002,18.4702511,64,21.1954517,64 h32.783699c2.7252007,0,4.9414978-2.1725998,4.9414978-4.8432007V13.9861002 C58.9206467,11.3155003,56.7043495,9.1429005,53.9791489,9.1429005z M7.1110516,51.8661003V5.0228 c0-1.6487999,1.3938999-2.9909999,3.1062002-2.9909999h34.422596c1.7123032,0,3.1062012,1.3422,3.1062012,2.9909999v46.8432999 c0,1.6487999-1.393898,2.9911003-3.1062012,2.9911003h-34.422596C8.5049515,54.8572006,7.1110516,53.5149002,7.1110516,51.8661003z M56.8888474,59.1567993c0,1.550602-1.3055,2.8115005-2.9096985,2.8115005h-32.783699 c-1.6042004,0-2.9097996-1.2608986-2.9097996-2.8115005v-2.2678986h26.3541946 c2.8333015,0,5.1379013-2.2530022,5.1379013-5.0228004V11.1275997c0.0769005,0.0186005,0.1504021,0.0469999,0.2331009,0.0469999 h3.9682999c1.6041985,0,2.9096985,1.2609005,2.9096985,2.8115005V59.1567993z\"\n              ></path>\n              <path\n                d=\"M38.6031494,13.2063999H16.253952c-0.5615005,0-1.0159006,0.4542999-1.0159006,1.0158005 c0,0.5615997,0.4544001,1.0158997,1.0159006,1.0158997h22.3491974c0.5615005,0,1.0158997-0.4542999,1.0158997-1.0158997 C39.6190491,13.6606998,39.16465,13.2063999,38.6031494,13.2063999z\"\n              ></path>\n              <path\n                d=\"M38.6031494,21.3334007H16.253952c-0.5615005,0-1.0159006,0.4542999-1.0159006,1.0157986 c0,0.5615005,0.4544001,1.0159016,1.0159006,1.0159016h22.3491974c0.5615005,0,1.0158997-0.454401,1.0158997-1.0159016 C39.6190491,21.7877007,39.16465,21.3334007,38.6031494,21.3334007z\"\n              ></path>\n              <path\n                d=\"M38.6031494,29.4603004H16.253952c-0.5615005,0-1.0159006,0.4543991-1.0159006,1.0158997 s0.4544001,1.0158997,1.0159006,1.0158997h22.3491974c0.5615005,0,1.0158997-0.4543991,1.0158997-1.0158997 S39.16465,29.4603004,38.6031494,29.4603004z\"\n              ></path>\n              <path\n                d=\"M28.4444485,37.5872993H16.253952c-0.5615005,0-1.0159006,0.4543991-1.0159006,1.0158997 s0.4544001,1.0158997,1.0159006,1.0158997h12.1904964c0.5615025,0,1.0158005-0.4543991,1.0158005-1.0158997 S29.0059509,37.5872993,28.4444485,37.5872993z\"\n              ></path>\n            </g>\n          </g>\n        </svg>\n        Imprimir Reltório\n      </button>\n      \n    </div>\n  </div>\n  <div class=\"flex justify-center w-full gap-2 mobile\">\n    <TableNormal :headers=\"headers\" :body=\"array\" />\n    <TableNormal :headers=\"subHeaders\" :body=\"subArray\"  />\n  </div>\n\n  <div\n    id=\"default-modal\"\n    :class=\"{ hidden: openModal }\"\n    class=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50\">\n    <div class=\"relative p-4 w-full max-w-2xl max-h-full\">\n      <div class=\"relative bg-white rounded-lg shadow\">\n        <div\n          class=\"flex items-center justify-between p-4 md:p-5 border-b rounded-t\">\n          <h1 class=\"text-xl font-semibold text-gray-900\">Selecionar Relatório de {{ getFilterName() }}</h1>\n          <button type=\"button\" class=\"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-black-200 rounded-lg text-sm ms-auto inline-flex justify-center items-center\" data-modal-hide=\"default-modal\" @click=\"close\" >\n            <svg class=\"w-3 h-3\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 14 14\" >\n              <path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6\" /></svg> \n            <span class=\"sr-only\">Close modal</span>\n          </button>\n        </div>\n        <div class=\"p-4 md:p-5 space-y-4\">\n          <div v-if=\"modalFilter\" class=\"flex gap-2\">\n\n            <div class=\"border-r border-gray px-2\">\n              <h3>Tema de Relatório:</h3>\n              <div class=\"flex items-center\">\n                <input\n                  v-model=\"selectedFilter\"\n                  type=\"radio\"\n                  value=\"owners\"\n                  name=\"reportFilter\"\n                  class=\"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600\"\n                />\n                <label\n                  for=\"default-radio-2\"\n                  class=\"ms-2 text-md font-medium text-gray-700\"\n                  >Proprietários</label\n                >\n              </div>\n\n              <div class=\"flex items-center\">\n                <input\n                  v-model=\"selectedFilter\"\n                  type=\"radio\"\n                  value=\"workers\"\n                  name=\"reportFilter\"\n                  class=\"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600\"\n                />\n                <label\n                  for=\"default-radio-2\"\n                  class=\"ms-2 text-md font-medium text-gray-700\"\n                  >Funcionários</label\n                >\n              </div>\n\n              <div class=\"flex items-center\">\n                <input\n                  v-model=\"selectedFilter\"\n                  type=\"radio\"\n                  value=\"users\"\n                  name=\"reportFilter\"\n                  class=\"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600\"\n                />\n                <label\n                  for=\"default-radio-2\"\n                  class=\"ms-2 text-md font-medium text-gray-700\"\n                  >Usuários</label\n                >\n              </div>\n\n              <div class=\"flex items-center\">\n                <input\n                  v-model=\"selectedFilter\"\n                  type=\"radio\"\n                  value=\"cars\"\n                  name=\"reportFilter\"\n                  class=\"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600\"\n                />\n                <label\n                  for=\"default-radio-2\"\n                  class=\"ms-2 text-md font-medium text-gray-700\"\n                  >Veículos</label\n                >\n              </div>\n\n              <div class=\"flex items-center\">\n                <input\n                  v-model=\"selectedFilter\"\n                  type=\"radio\"\n                  value=\"services\"\n                  name=\"reportFilter\"\n                  class=\"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600\"\n                />\n                <label\n                  for=\"default-radio-2\"\n                  class=\"ms-2 text-md font-medium text-gray-700\"\n                  >Revisões</label\n                >\n              </div>\n            </div>\n            <div\n              v-if=\"selectedFilter === 'owners'\"\n              class=\"w-full flex justify-center\"\n            >\n              <FilterOwner\n                v-model:startDate=\"filterOwner.startDate\"\n                v-model:endDate=\"filterOwner.endDate\"\n                v-model:name=\"filterOwner.name\"\n                v-model:sex=\"filterOwner.sex\"\n                v-model:minAge=\"filterOwner.minAge\"\n                v-model:maxAge=\"filterOwner.maxAge\"\n                v-model:brand=\"filterOwner.brand\"\n                v-model:order=\"filterOwner.order\"\n                v-model:ordenateOrder=\"filterOwner.ordenateOrder\"\n              />\n            </div>\n            <div\n              v-if=\"selectedFilter === 'workers'\"\n              class=\"w-full flex justify-center\"\n            >\n              <FilterWorker\n                v-model:startDate=\"filterWorker.startDate\"\n                v-model:endDate=\"filterWorker.endDate\"\n                v-model:name=\"filterWorker.name\"\n                v-model:sex=\"filterWorker.sex\"\n                v-model:minAge=\"filterWorker.minAge\"\n                v-model:maxAge=\"filterWorker.maxAge\"\n                v-model:maxSalary=\"filterWorker.maxSalary\"\n                v-model:minSalary=\"filterWorker.minSalary\"\n                v-model:order=\"filterWorker.order\"\n                v-model:ordenateOrder=\"filterWorker.ordenateOrder\"\n              />\n            </div>\n            <div\n              v-if=\"selectedFilter === 'users'\"\n              class=\"w-full flex justify-center \"\n            >\n              <FilterUser\n                v-model:startDate=\"filterUser.startDate\"\n                v-model:endDate=\"filterUser.endDate\"\n                v-model:name=\"filterUser.name\"\n                v-model:order=\"filterUser.order\"\n                v-model:ordenateOrder=\"filterUser.ordenateOrder\"\n              />\n            </div>\n            <div\n              v-if=\"selectedFilter === 'cars'\"\n              class=\"w-full flex justify-center\"\n            >\n              <FilterVehicles\n                v-model:startDate=\"filterVehicles.startDate\"\n                v-model:endDate=\"filterVehicles.endDate\"\n                v-model:minYear=\"filterVehicles.minYear\"\n                v-model:maxYear=\"filterVehicles.maxYear\"\n                v-model:brand=\"filterVehicles.brand\"\n                v-model:order=\"filterVehicles.order\"\n                v-model:subOrder=\"filterVehicles.subOrder\"\n                v-model:ordenateOrder=\"filterVehicles.ordenateOrder\"/>\n            </div>\n            <div\n              v-if=\"selectedFilter === 'services'\"\n              class=\"w-full flex justify-center\"\n            >\n              <FilterService\n                v-model:name=\"filterService.name\"\n                v-model:moreServices=\"filterService.moreServices\"\n                v-model:brand=\"filterService.brand\"\n                v-model:worker=\"filterService.worker\"\n                v-model:average=\"filterService.average\"\n              />\n            </div>\n          </div>\n        </div>\n\n        <div v-if=\"modalChart\" class=\"flex flex-col mobile\">\n          <div class=\"w-[50%] flex mobile\">\n            <SexChard :users=\"filterChar\" />\n            <div v-if=\"!splitBySex\">\n              <CountChart :users=\"filterChar\" />\n            </div>\n            <div v-else>\n              <CountChardSplit :users=\"filterChar\" />\n            </div>\n          </div>\n          <div class=\"w-[50%] flex mobile\">\n            <div v-if=\"!splitBySex\">\n              <AgeChard :users=\"filterChar\" />\n            </div>\n            <div v-else>\n              <AgeChardSplit :users=\"filterChar\" />\n            </div>\n            <div v-if=\"allChecked\">\n              <BrandChard :brands=\"brandArray\" />\n            </div>\n            <div v-if=\"filterChecked\">\n              <BrandChard :brands=\"brandArrayFilter\" />\n            </div>\n          </div>\n        </div>\n\n        <div\n          class=\"flex items-center justify-center justify-end p-2 border-t border-gray-200 rounded-b\"\n        >\n\n          <div v-if=\"modalFilter\">\n            <button\n              type=\"button\"\n              class=\"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800\"\n              @click=\"setFilter\"\n            >\n              Emitir Relatório\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport http from \"@/services/http.js\";\nimport TitleView from \"../components/Title/TitleView.vue\";\nimport { format } from \"date-fns\";\nimport LoadingCircle from \"../components/loading/LoadingCircle.vue\";\nimport TableNormal from \"../components/Table/TableNormal.vue\";\nimport CountChart from \"../components/chards/CountChard.vue\";\nimport SexChard from \"../components/chards/SexChard.vue\";\nimport AgeChard from \"../components/chards/AgeChard.vue\";\nimport AgeChardSplit from \"../components/chards/AgeChardSplit.vue\";\nimport CountChardSplit from \"../components/chards/CountChardSplit.vue\";\nimport BrandChard from \"../components/chards/BrandChard.vue\";\nimport FilterOwner from \"../components/filter/FilterOwner.vue\";\nimport FilterWorker from \"../components/filter/FilterWorker.vue\";\nimport FilterUser from \"../components/filter/FilterUser.vue\";\nimport FilterVehicles from \"../components/filter/FilterVehicles.vue\";\nimport FilterService from \"../components/filter/FilterService.vue\";\nimport { useAuth } from \"@/stores/auth.js\";\n\nexport default {\n  name: \"DashBoard\",\n  components: {\n    TitleView,\n    LoadingCircle,\n    TableNormal,\n    CountChart,\n    SexChard,\n    AgeChard,\n    AgeChardSplit,\n    CountChardSplit,\n    BrandChard,\n    FilterOwner,\n    FilterWorker,\n    FilterUser,\n    FilterVehicles,\n    FilterService,\n  },\n  data() {\n    return {\n      title:\"\",\n      subDataExist: false,\n      loading: false,\n      generate: true,\n      users: [],\n      headers: [\"Selecione Um Relatório\"],\n      array:{},\n      subHeaders: [],\n      subArray:{},\n      openSubTable: false,\n      splitBySex: false,\n      filterChecked: false,\n      userFilter: false,\n      ownerFilter: false,\n      carsFilter: false,\n      selectedFilter: \"users\",\n      servicesFilter: false,\n      workersFilter: false,\n      modalFilter: true,\n      openModal: false,\n      filterOwner: {},\n      filterWorker: {},\n      filterUser: {},\n      filterVehicles: {},\n      filterService: {},\n    };\n  },\n  methods: {\n    openChardModal() {\n      this.modalChart = true;\n      this.openModal = false;\n    },\n    close() {\n      this.filter = {};\n      (this.modalContent = \"\"), (this.openModal = true);\n      this.modalFilter = false;\n      this.modalChart = false;\n      this.generate = false;\n      this.loading = false;\n    },\n    openFilterModal() {\n      this.modalFilter = true;\n      this.openModal = false;\n    },\n    toggleCheckbox(option) {\n      if (option == \"allChecked\") {\n        this.filterChecked = false;\n        this.allChecked = true;\n      }\n      if (option == \"filterChecked\") {\n        this.allChecked = false;\n        this.filterChecked = true;\n      }\n    },\n    getFilterName()\n    {\n      if(this.selectedFilter === \"owners\") return \"Proprietários\"\n      if(this.selectedFilter === \"workers\") return \"Funcionários\"\n      if(this.selectedFilter === \"users\") return \"Usuários\"\n      if(this.selectedFilter === \"cars\") return \"Veículos\"\n      return \"Revisões\"\n      \n    },\n    async getBody(id) {\n      try {\n        const { data } = await http.get(`/cars-all/${id}`);\n        return data.data;\n      } catch (error) {\n        console.error(`Erro ao obter body para id ${id}:`, error);\n        throw error;\n      }\n    },\n    showDetails(details) {\n      this.modalContent = details;\n      this.owner = { ...details };\n      this.newUser = this.owner;\n      this.openModal = false;\n\n    },\n    setFilter() {\n      if (this.selectedFilter === \"owners\") this.filterOwners();\n      if (this.selectedFilter === \"services\") this.filterServices();\n      if (this.selectedFilter ===\"cars\") this.filterCars();\n      if (this.selectedFilter === \"users\") this.filterUsers();\n      if (this.selectedFilter === \"workers\") this.filterWorkers();\n    },\n\n    async setArrayOwners(array) {\n      this.subDataExist=false\n      this.title=\"Proprietarios\"\n      this.array = await Promise.all(\n        array.map(async (owner) => {\n          try {\n            const body = await http.get(\"/cars-all/\" + owner.id);\n            return {\n              name: owner.name,\n              age: owner.age,\n              contServices: owner.number_services? owner.number_services:\"Nenhum Agendamento\" ,\n              contCars: body.data.count,\n              created_at: format(new Date(owner.created_at), \"dd/MM/yyyy\"),\n            };\n          } catch (error) {\n            console.log(error);\n            return {\n              name: owner.name,\n              contServices: owner.number_services,\n              contCars: 0,\n              created_at: format(new Date(owner.created_at), \"dd/MM/yyyy\"),\n            };\n          }\n        })\n      );\n    },\n    async setArrayVehicles(array)\n    {\n      this.title=\"Veiculos\"\n      this.array = await Promise.all(\n        array.map(async (car) => {\n          try {\n            const body = await http.get(\"/cars-all/\" + car.owner_id);\n            return {\n              owner_name: body.data.data.owner.name,\n              name: car.brand+\" \"+car.model+\" \"+car.year,\n              contServices: car.number_services,\n              last_service: car.last_service?format(new Date(car.last_service), \"dd/MM/yyyy\"):\"Nenhum Agendamento\",\n            };\n          } catch (error) {\n            console.log(error);\n            \n          }\n        })\n      );\n\n      this.headers=[\"Nome Proprietário\",\"Carro\",\"Quantidade Revisões\",\"Última Revisão\"]\n      this.close()\n    },\n    setArrayUsers(array)\n    {\n      this.title=\"Usuarios\"\n      this.subDataExist=false\n      this.array = array.map((user)=>{\n        return {\n          name: user.name,\n          email: user.email,\n          created_at: format(new Date(user.created_at), \"dd/MM/yyyy\")\n        }\n      });\n    },    \n    async getOwnerName(id)\n    {\n      const data = await http.get(\"/owners-all\");\n      const objetosEncontrados = data.data.owners.filter(objeto => objeto.id === id);\n      return objetosEncontrados[0].name    \n    },\n    async getWorkerName(id) {\n      const data = await http.get(\"/worker/\" + id);\n      return data.data.worker[0].name;\n    },\n    async setArrayServices(array)\n    {\n      this.headers=[\"Nome Proprietario\",\"Valor\",\"Feito Em\",\"Mecanico Responsavel\"]\n      this.array = await Promise.all(\n        array.map(async (service) => {\n          try {\n            console.log(service)\n            const worker = await this.getWorkerName(service.worker_id);\n            const owner = await this.getOwnerName(service.owner_id);\n            return {\n              name: owner,\n              salary: \"R$ \" + service.price,\n              date: format(new Date(service.date_service), \"dd/MM/yyyy\"),\n              worker:worker,\n            };\n          } catch (error) {\n            console.log(error);\n            \n          }\n        })\n      );\n    }\n    ,\n    async setArrayWorkers(array) {\n      this.title=\"Funcionarios\"\n      this.subDataExist=false\n      this.array = await Promise.all(\n        array.map(async (worker) => {\n          try {\n            const body = await http.get(\"/worker/\" + worker.id);\n            return {\n              name: worker.name,\n              salary: \"R$ \" + worker.salary,\n              contServices: body.data.count,\n              created_at: format(new Date(worker.created_at), \"dd/MM/yyyy\"),\n            };\n          } catch (error) {\n            console.log(error);\n            return {\n              name: worker.name,\n              salary: \"R$ \" + worker.salary,\n              contServices: 0,\n              created_at: format(new Date(worker.created_at), \"dd/MM/yyyy\"),\n            };\n          }\n        })\n      );\n    },\n    async filterOwners() {\n\n      if (Object.keys(this.filterOwner).length === 0) \n      {\n        this.loading = true;\n        try {\n          const data = await http.get(\"/owners-all\");\n          await this.setArrayOwners(data.data.owners);\n          this.generate = false;\n          this.loading = false;\n          this.headers = [\n            \"Nome\",\n            \"Idade\",\n            \"Quantidade de Revisões\",\n            \"Quantidade de Carro\",\n            \"Criado Em\",\n          ];\n        } catch (error) {\n          console.log(error);\n        }\n        this.loading = false;\n\n        this.close();\n      }\n      else \n      {\n        this.loading = true;\n        try \n        {\n           console.log(this.filterOwner)\n\n          const data = await http.post(\"/filter-owners\", this.filterOwner);\n\n          if (data.data.owner.length == 0) {\n            alert(\"Sua Consulta Retornou zero\");\n          } \n          else {\n            await this.setArrayOwners(data.data.owner);\n            \n            this.close();\n            this.headers = [\n              \"Nome\",\n              \"Idade\",\n              \"Quantidade de Revisões\",\n              \"Quantidade de Carro\",\n              \"Criado Em\",\n            ];\n          }\n          this.generate = false;\n        } catch (error) {\n          console.log(error);\n        }\n        this.loading = false;\n      }\n    },\n    async filterWorkers() {\n\n      console.log(\"Iniciando Filtro de Workers\");\n      if (Object.keys(this.filterWorker).length === 0) {\n        this.loading = true;\n        const data = await http.get(\"/workers-all\");\n        await this.setArrayWorkers(data.data.workers);\n        this.headers = [\n          \"Nome\",\n          \"Salário\",\n          \"Quantidade de Serviços\",\n          \"Criado Em\",\n        ];\n\n        this.close();\n      } else {\n        this.loading = true;\n        try {\n          const data = await http.post(\"/filter-workers\", this.filterWorker);\n          if (data.data.workers.length == 0) {\n            alert(\"Sua Consulta Retornou zero\");\n          } else {\n            await this.setArrayWorkers(data.data.workers);\n\n            this.close();\n            this.headers = [\n              \"Nome\",\n              \"Salário\",\n              \"Quantidade de Serviços\",\n              \"Criado Em\",\n            ];\n          }\n        } catch (error) {\n          console.log(error);\n        }\n        this.loading = false;\n      }\n    },\n    async filterCars() {\n      if (Object.keys(this.filterVehicles).length === 0) \n      {\n        try {\n          const data = await http.get('/cars-all')\n          this.setArrayVehicles(data.data.cars)\n        } catch (error) {\n          console.log(error)\n        }\n      }\n      else\n      {\n        try {\n          const data = await http.post('/cars-filter',this.filterVehicles)\n          if(data.data.length==0)\n          {\n            alert(\"Sua Consulta Retornou Zero\")\n            this.filterVehicles = {}\n          }\n          else\n          {\n            const response =(data.data.order)\n            if(this.filterVehicles.subOrder)\n            {\n              if (Object.keys(this.filterVehicles).length === 1)\n              {\n                this.title=\"Veiculos\"\n                [this.headers, this.array ]= this.setCarsSubOrder(response)             \n                this.close()\n              } \n              else\n              {\n                [this.subHeaders,this.subArray]=this.setCarsSubOrder(response)\n                this.subDataExist = true\n                this.setArrayVehicles(data.data.cars)\n                this.close()\n              }\n            }            \n            else this.setArrayVehicles(data.data)\n            \n          }\n\n        } catch (error) {\n          console.log(error)\n        }\n      }\n    },\n    setCarsSubOrder(response)\n    {\n      let headers=[]\n      let body = []\n      \n      if(this.filterVehicles.subOrder ===\"moreVehicleSex\")\n      { \n        headers=[\"Masculino\",\"Feminino\"]\n        body=[{\"man\":response.man,\"woman\":response.woman}]\n      }\n      if(this.filterVehicles.subOrder ===\"countModel\")\n      {\n        headers=[\"Nome da Marca\",\"Quantidade de Carros\"]\n        body = response.map((item)=>{          \n          return {\n            \"brand\": item.brand,\n            \"total\":item.car_count\n          }\n        })\n        console.log(body)\n        console.log(\"foi\")\n      }\n      if(this.filterVehicles.subOrder ===\"countModelSex\")\n      {\n        headers=[\"Sexo\",\"Marca\",\"Quantidade\"]\n        response.man.forEach(item => {\n          body.push({\n            gender: 'Masculino',\n            brand: item.brand,\n            total_cars: item.total_cars\n          });\n        });\n\n        response.women.forEach(item => {\n          body.push({\n            gender: 'Feminino',\n            brand: item.brand,\n            total_cars: item.total_cars\n          });\n        });\n        if(response.moreCarsSex ===\"Feminino\") body = body.reverse()\n      }\n      return [headers,body]\n    },\n    async filterUsers() {\n      this.loading = true\n      if (Object.keys(this.filterUser).length === 0) \n      {\n        try \n        {\n          this.loading = true\n          const data = await http.get(\"users-all\");\n          this.setArrayUsers(data.data.users);\n          this.loading = false\n          this.headers=[\"Nome\",\"Email\",\"Criado Em\"]\n          this.close()\n        } \n        catch (error) \n        {\n          console.log(error)\n        }\n      }\n      else\n      {\n        try \n        {\n          this.loading = true\n          const data = await http.post('/filter-users',this.filterUser)\n          this.headers=[\"Nome\",\"Email\",\"Criado Em\"]\n          this.setArrayUsers(data.data.users)\n          this.close()\n        } \n        catch (error) \n        {\n          console.log(error)\n        }\n      }\n    },\n    async filterServices() {\n      this.loading = true\n      console.log(\"Iniciando Filtro de Services\");\n      if (Object.keys(this.filterService).length === 0)\n      {\n        try \n        {\n          const data = await http.get('/all-services')\n          this.setArrayServices(data.data.services)\n          this.close()\n        } \n        catch (error) \n        {\n          console.log(error)\n        }\n      }\n      else\n      {\n        try \n        {\n          const data = await http.post('/filter-services',this.filterService)\n          this.setArrayServices(data.data)\n          this.close()\n        } \n        catch (error) \n        {\n          console.log(error)\n        }\n      }\n      this.loading = false;\n    },\n    async generateReport() {\n      this.loading = true;\n      try {\n        if(this.subDataExist)console.log(this.subArray)\n        console.log(this.subArray)\n        const data = await http.post(\n          \"/generate-report\",\n          {\n            head: this.headers,\n            body: this.array,\n            title: \"de Funcionários\",\n            subHead: this.subHeaders,\n            subBody: this.subArray,\n            subDataExist: `${this.subDataExist}`,\n            user: this.getName(),\n          },\n          {\n            responseType: \"blob\",\n          }\n        );\n        const url = window.URL.createObjectURL(new Blob([data.data]));\n        const link = document.createElement(\"a\");\n        link.href = url;\n        link.setAttribute(\"download\", \"relatorio.pdf\");\n        document.body.appendChild(link);\n        link.click();\n        window.URL.revokeObjectURL(url);\n        this.loading = false;\n      } catch (error) {\n        console.log(error.response.data);\n      }\n    },\n    getName() {\n      const auth = useAuth();\n      if (auth.isAuthenticated) return auth.user.name;\n    },\n  },\n  watch: {\n    minAge(newVal) {\n      this.minAge = newVal.replace(/\\D+/g, \"\");\n    },\n    maxAge(newVal) {\n      this.maxAge = newVal.replace(/\\D+/g, \"\");\n    },\n    filterName(newVal) {\n      this.filterName = newVal.replace(/\\d+/g, \"\");\n    },\n  },\n  mounted() {},\n  computed: {\n    filterChar() {\n      if (this.allChecked) return this.allArray;\n      if (this.filterChecked) return this.users;\n      return [];\n    },\n  },\n};\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}