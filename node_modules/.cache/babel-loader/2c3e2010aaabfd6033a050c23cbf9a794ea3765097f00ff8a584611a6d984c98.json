{"ast":null,"code":"import http from \"@/services/http.js\";\nimport TitleView from \"../components/Title/TitleView.vue\";\nimport { format } from \"date-fns\";\nimport LoadingCircle from \"../components/loading/LoadingCircle.vue\";\nimport TableNormal from \"../components/Table/TableNormal.vue\";\nimport CountChart from \"../components/chards/CountChard.vue\";\nimport SexChard from \"../components/chards/SexChard.vue\";\nimport AgeChard from \"../components/chards/AgeChard.vue\";\nimport AgeChardSplit from \"../components/chards/AgeChardSplit.vue\";\nimport CountChardSplit from \"../components/chards/CountChardSplit.vue\";\nimport BrandChard from \"../components/chards/BrandChard.vue\";\nexport default {\n  name: \"DashBoard\",\n  components: {\n    TitleView,\n    LoadingCircle,\n    TableNormal,\n    CountChart,\n    SexChard,\n    AgeChard,\n    AgeChardSplit,\n    CountChardSplit,\n    BrandChard\n  },\n  data() {\n    return {\n      maxAge: \"\",\n      minAge: \"\",\n      filterName: \"\",\n      body: {},\n      loading: false,\n      users: [],\n      headers: [\"Selecione Um Relatório\"],\n      allArray: [],\n      splitBySex: false,\n      filterChecked: false,\n      allChecked: true,\n      sex: \"A\",\n      startDate: \"\",\n      endDate: \"\",\n      userFilter: false,\n      ownerFilter: false,\n      carsFilter: false,\n      servicesFilter: false,\n      workersFilter: false,\n      brandArray: [],\n      brandArrayFilter: [],\n      modalUpdate: false,\n      modalFilter: false,\n      modalUser: false,\n      openModal: true,\n      newUser: {},\n      modalContent: \"\",\n      user: {},\n      owner: {},\n      filter: {}\n    };\n  },\n  methods: {\n    openChardModal() {\n      this.modalChart = true;\n      this.openModal = false;\n    },\n    close() {\n      this.user = {};\n      this.modalContent = \"\", this.openModal = true;\n      this.modalUser = false;\n      this.modalFilter = false;\n      this.modalUpdate = false;\n      this.modalChart = false;\n    },\n    openFilterModal() {\n      this.modalFilter = true;\n      this.openModal = false;\n    },\n    toggleCheckbox(option) {\n      if (option == \"allChecked\") {\n        this.filterChecked = false;\n        this.allChecked = true;\n      }\n      if (option == \"filterChecked\") {\n        this.allChecked = false;\n        this.filterChecked = true;\n      }\n    },\n    async getResults() {\n      try {\n        this.loading = true;\n        const {\n          data\n        } = await http.get(\"/owners-all\");\n        const owners = data.owners;\n        await this.setUsers(owners);\n        const brand = await http.post(\"/cars-brand\");\n        this.brandArray = brand.data;\n        this.brandArrayFilter = brand.data;\n        this.allArray = this.users;\n        this.filterChar = this.users;\n        this.loading = false;\n      } catch (error) {\n        console.error(\"Erro ao obter os resultados:\", error);\n        this.loading = false;\n      }\n    },\n    async setUsers(array) {\n      const promises = array.map(async user => {\n        const body = await this.getBody(user.id);\n        return {\n          name: user.name,\n          email: user.email,\n          created_at: format(new Date(user.created_at), \"dd/MM/yyyy\"),\n          implementar: {\n            name: user.name,\n            email: user.email,\n            id: user.id,\n            sex: user.sex,\n            age: user.age,\n            adress: user.adress,\n            body: body\n          }\n        };\n      });\n      this.users = await Promise.all(promises);\n    },\n    async getBody(id) {\n      try {\n        const {\n          data\n        } = await http.get(`/cars-all/${id}`);\n        return data.data;\n      } catch (error) {\n        console.error(`Erro ao obter body para id ${id}:`, error);\n        throw error;\n      }\n    },\n    openUserModal() {\n      this.user = {}, this.modalUser = true;\n      this.openModal = false;\n    },\n    async addUser() {\n      this.loading = true;\n      if (this.user.name && this.user.age && this.user.email && this.user.sex && this.user.adress) {\n        try {\n          await http.post(\"/owners-register\", this.user);\n          window.location.reload();\n          this.loading = false;\n        } catch (error) {\n          this.loading = false;\n        }\n      }\n    },\n    showDetails(details) {\n      this.modalContent = details;\n      this.owner = {\n        ...details\n      };\n      this.newUser = this.owner;\n      this.openModal = false;\n      this.modalUpdate = true;\n    },\n    async atualizar() {\n      if (JSON.stringify(this.modalContent) == JSON.stringify(this.owner)) {\n        alert(\"Faça uma Alteração Primeiro!\");\n      } else {\n        if (this.modalContent.name != this.owner.name) {\n          this.newUser.name = this.owner.name;\n        }\n        if (this.modalContent.email != this.owner.email) {\n          this.newUser.email = this.owner.email;\n        }\n        if (this.modalContent.sex != this.owner.sex) {\n          this.newUser.sex = this.owner.sex;\n        }\n        if (this.modalContent.age != this.owner.age) {\n          this.newUser.age = this.owner.age;\n        }\n        if (this.modalContent.adress != this.owner.adress) {\n          this.newUser.adress = this.owner.adress;\n        }\n        try {\n          this.loading = true;\n          await http.put(\"/update-owner\", this.newUser);\n          window.location.reload();\n          alert(\"Funcionário Atualizado com sucesso\");\n          this.loading = false;\n        } catch (error) {\n          console.log(error);\n          this.loading = false;\n        }\n      }\n    },\n    async apagar() {\n      this.loading = true;\n      try {\n        await http.delete(\"/delete-owner/\" + this.modalContent.id, this.newUser);\n        alert(\"Veículo Apagado com sucesso\");\n        this.loading = false;\n        window.location.reload();\n      } catch (error) {\n        this.loading = false;\n      }\n    },\n    async setFilter() {\n      if (this.filter == {} || this.filter.maxDate < this.filter.minDate || this.filter.maxAge < this.filter.minAge) {\n        alert(\"Por Favor Digite Corretamente\");\n      } else {\n        try {\n          this.loading = true;\n          const data = await http.post(\"/filter-owners\", this.filter);\n          this.setUsers(data.data.owner);\n          const brand = await http.post(\"/cars-brand\", this.filter, {});\n          this.brandArrayFilter = brand.data;\n          this.loading = false;\n          this.close();\n        } catch (error) {\n          this.loading = false;\n        }\n      }\n    }\n  },\n  watch: {\n    minAge(newVal) {\n      this.minAge = newVal.replace(/\\D+/g, \"\");\n    },\n    maxAge(newVal) {\n      this.maxAge = newVal.replace(/\\D+/g, \"\");\n    },\n    filterName(newVal) {\n      this.filterName = newVal.replace(/\\d+/g, \"\");\n    }\n  },\n  mounted() {\n    this.getResults();\n  },\n  computed: {\n    filterChar() {\n      if (this.allChecked) return this.allArray;\n      if (this.filterChecked) return this.users;\n      return [];\n    }\n  }\n};","map":{"version":3,"names":["http","TitleView","format","LoadingCircle","TableNormal","CountChart","SexChard","AgeChard","AgeChardSplit","CountChardSplit","BrandChard","name","components","data","maxAge","minAge","filterName","body","loading","users","headers","allArray","splitBySex","filterChecked","allChecked","sex","startDate","endDate","userFilter","ownerFilter","carsFilter","servicesFilter","workersFilter","brandArray","brandArrayFilter","modalUpdate","modalFilter","modalUser","openModal","newUser","modalContent","user","owner","filter","methods","openChardModal","modalChart","close","openFilterModal","toggleCheckbox","option","getResults","get","owners","setUsers","brand","post","filterChar","error","console","array","promises","map","getBody","id","email","created_at","Date","implementar","age","adress","Promise","all","openUserModal","addUser","window","location","reload","showDetails","details","atualizar","JSON","stringify","alert","put","log","apagar","delete","setFilter","maxDate","minDate","watch","newVal","replace","mounted","computed"],"sources":["C:\\Users\\Usuário\\Documents\\teste-pratico\\front-end-teste\\src\\views\\DashBoard.vue"],"sourcesContent":["<template>\r\n    <LoadingCircle v-if=\"loading\" />\r\n  \r\n    <div>\r\n      <TitleView title=\"Relatórios\" />\r\n    </div>\r\n    <div>\r\n      <div class=\"flex justify-center w-full mt-10\">\r\n        <button\r\n          type=\"button\"\r\n          class=\"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2\"\r\n          @click=\"openFilterModal\"\r\n          :disabled=\"loading\"\r\n        >\r\n          Selecionar Relatório\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          class=\"focus:outline-none text-white bg-purple-700 hover:bg-purple-800 focus:ring-4 focus:ring-purple-300 font-medium rounded-lg text-sm px-5 py-2.5 mb-2\"\r\n          @click=\"openChardModal\"\r\n          :disabled=\"loading\"\r\n        >\r\n          Visualizar Gráficos\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <div class=\"flex justify-center max-h-[420px] overflow-y-auto\">\r\n      <TableNormal\r\n        :headers=\"headers\"\r\n        :body=\"array\"\r\n        class=\"w-[50%]\"\r\n      />\r\n    </div>\r\n  \r\n    <div\r\n      id=\"default-modal\"\r\n      :class=\"{ hidden: openModal }\"\r\n      class=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50\"\r\n    >\r\n      <div class=\"relative p-4 w-full max-w-2xl max-h-full\">\r\n        <div class=\"relative bg-white rounded-lg shadow\">\r\n          <div\r\n            class=\"flex items-center justify-between p-4 md:p-5 border-b rounded-t\"\r\n          >\r\n          <div v-if=\"modalUser\">\r\n              <h3 class=\"text-xl font-semibold text-gray-900\">\r\n                Criar Proprietário\r\n              </h3>\r\n            </div>\r\n            <div v-if=\"modalUpdate\">\r\n              <h3 class=\"text-xl font-semibold text-gray-900\">\r\n                Alterar {{ modalContent.carName }}\r\n              </h3>\r\n            </div>\r\n            <div v-if=\"modalFilter\">\r\n              <h3 class=\"text-xl font-semibold text-gray-900\">\r\n                Visualizar Relatórios\r\n              </h3>\r\n            </div>\r\n            <div v-if=\"modalChart\">\r\n              <h3 class=\"text-xl font-semibold text-gray-900\">\r\n                Visualizar Gráficos\r\n              </h3>\r\n              <div class=\"flex gap-2\">\r\n                Aplicar Gráficos:\r\n                <div>\r\n                  <input\r\n                    v-model=\"allChecked\"\r\n                    @change=\"toggleCheckbox('allChecked')\"\r\n                    type=\"checkbox\"\r\n                    value=\"\"\r\n                    :disabled=\"allChecked\"\r\n                    class=\"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500\"\r\n                  />\r\n                  <label class=\"ms-2 text-sm font-medium\">Todos</label>\r\n                </div>\r\n                <div>\r\n                  <input\r\n                    v-model=\"filterChecked\"\r\n                    @change=\"toggleCheckbox('filterChecked')\"\r\n                    type=\"checkbox\"\r\n                    value=\"\"\r\n                    :disabled=\"filterChecked\"\r\n                    class=\"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500\"\r\n                  />\r\n                  <label class=\"ms-2 text-sm font-medium\">Filtro</label>\r\n                </div>\r\n                <div>\r\n                  <input \r\n                  v-model=\"splitBySex\"                       \r\n                  type=\"checkbox\"  class=\"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500\">\r\n                  <label  class=\"ms-2 text-sm font-medium\">Separar entre Gêneros</label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <button\r\n              type=\"button\"\r\n              class=\"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-black-200 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center\"\r\n              data-modal-hide=\"default-modal\"\r\n              @click=\"close\"\r\n            >\r\n              <svg\r\n                class=\"w-3 h-3\"\r\n                aria-hidden=\"true\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                fill=\"none\"\r\n                viewBox=\"0 0 14 14\"\r\n              >\r\n                <path\r\n                  stroke=\"currentColor\"\r\n                  stroke-linecap=\"round\"\r\n                  stroke-linejoin=\"round\"\r\n                  stroke-width=\"2\"\r\n                  d=\"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6\"\r\n                />\r\n              </svg>\r\n              <span class=\"sr-only\">Close modal</span>\r\n            </button>\r\n          </div>\r\n          <div class=\"p-4 md:p-5 space-y-4\">\r\n            <div v-if=\"modalUser\">\r\n              <div>\r\n                <label class=\"block mb-2 text-sm font-medium text-gray-900\"\r\n                  >Digite Nome</label\r\n                >\r\n                <input\r\n                  v-model=\"user.name\"\r\n                  type=\"text\"\r\n                  class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5\"\r\n                  placeholder=\"Digite o nome\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label class=\"block mb-2 text-sm font-medium text-gray-900\"\r\n                  >Digite Email</label\r\n                >\r\n                <input\r\n                  v-model=\"user.email\"\r\n                  type=\"text\"\r\n                  class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5\"\r\n                  placeholder=\"Digite o email\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label class=\"block text-sm font-medium text-gray-900\"\r\n                  >Selecione o Sexo</label\r\n                >\r\n                <select\r\n                  v-model=\"user.sex\"\r\n                  class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5\"\r\n                >\r\n                  <option value=\"M\">Masculino</option>\r\n                  <option value=\"F\">Feminino</option>\r\n                </select>\r\n              </div>\r\n              <div>\r\n                <label class=\"block mb-2 text-sm font-medium text-gray-900\"\r\n                  >Digite o Endereço</label\r\n                >\r\n                <input\r\n                  v-model=\"user.adress\"\r\n                  type=\"text\"\r\n                  class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5\"\r\n                  placeholder=\"Digite o Endereço\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label class=\"block mb-2 text-sm font-medium text-gray-900\"\r\n                  >Digite a Idade</label\r\n                >\r\n                <input\r\n                  v-model=\"user.age\"\r\n                  type=\"text\"\r\n                  class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5\"\r\n                  placeholder=\"Digite a Idade\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div v-if=\"modalUpdate\">\r\n\r\n  \r\n              <div>\r\n                <label class=\"block mb-2 text-sm font-medium text-gray-900\"\r\n                  >Digite Nome</label\r\n                >\r\n                <input\r\n                  v-model=\"owner.name\"\r\n                  type=\"text\"\r\n                  class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5\"\r\n                  placeholder=\"Digite o nome\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label class=\"block mb-2 text-sm font-medium text-gray-900\"\r\n                  >Digite Email</label\r\n                >\r\n                <input\r\n                  v-model=\"owner.email\"\r\n                  type=\"text\"\r\n                  class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5\"\r\n                  placeholder=\"Digite o email\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label class=\"block text-sm font-medium text-gray-900\"\r\n                  >Selecione o Sexo</label\r\n                >\r\n                <select\r\n                  v-model=\"owner.sex\"\r\n                  class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5\"\r\n                >\r\n                  <option value=\"M\">Masculino</option>\r\n                  <option value=\"F\">Feminino</option>\r\n                </select>\r\n              </div>\r\n              <div>\r\n                <label class=\"block mb-2 text-sm font-medium text-gray-900\"\r\n                  >Digite o Endereço</label\r\n                >\r\n                <input\r\n                  v-model=\"owner.adress\"\r\n                  type=\"text\"\r\n                  class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5\"\r\n                  placeholder=\"Digite o Endereço\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label class=\"block mb-2 text-sm font-medium text-gray-900\"\r\n                  >Digite a Idade</label\r\n                >\r\n                <input\r\n                  v-model=\"owner.age\"\r\n                  type=\"text\"\r\n                  class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5\"\r\n                  placeholder=\"Digite a Idade\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div v-if=\"modalFilter\" class=\"flex\">\r\n                <div class=\"border-r-1 border-gray-700 flex flex-col\">\r\n                    <div class=\"flex items-center\">\r\n                        <input v-model=\"ownerFilter\" checked id=\"default-radio-2\" type=\"radio\" value=\"\" name=\"default-radio\" class=\"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600\">\r\n                        <label for=\"default-radio-2\" class=\"ms-2 text-sm font-medium text-gray-700\">Checked state</label>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n            </div>\r\n          </div>\r\n  \r\n          <div v-if=\"modalChart\" class=\"flex flex-col mobile\">\r\n            <div class=\"w-[50%] flex mobile\">\r\n              <SexChard :users=\"filterChar\" />\r\n              <div v-if=\"!splitBySex\">\r\n                <CountChart :users=\"filterChar\" />\r\n              </div>\r\n              <div v-else>\r\n                <CountChardSplit :users=\"filterChar\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"w-[50%] flex  mobile\">\r\n  \r\n              <div v-if=\"!splitBySex\">\r\n                <AgeChard :users=\"filterChar\" />\r\n              </div>\r\n              <div v-else>\r\n                <AgeChardSplit :users=\"filterChar\" />\r\n              </div>\r\n              <div v-if=\"allChecked\">\r\n                <BrandChard\r\n                :brands=\"brandArray\"\r\n                />              \r\n              </div>\r\n              <div v-if=\"filterChecked\">\r\n                <BrandChard\r\n                :brands=\"brandArrayFilter\"\r\n                />              \r\n              </div>\r\n  \r\n            </div>                                                                           \r\n          </div>\r\n  \r\n          <div\r\n            class=\"flex items-center justify-center justify-end p-2 border-t border-gray-200 rounded-b\"\r\n          >\r\n            <div v-if=\"modalUser\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"focus:outline-none text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2\"\r\n                @click=\"addUser\"\r\n              >\r\n                Criar Veículo\r\n              </button>\r\n            </div>\r\n            <div v-if=\"modalUpdate\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"focus:outline-none text-white bg-[#337C24] hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2\"\r\n                @click=\"atualizar\"\r\n              >\r\n                Gravar\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                class=\"focus:outline-none text-white bg-[#FF3E30] hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2\"\r\n                @click=\"apagar\"\r\n              >\r\n                Apagar\r\n              </button>\r\n            </div>\r\n            <div v-if=\"modalFilter\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800\"\r\n                @click=\"setFilter\"\r\n              >\r\n                Emitir Relatório\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  <script>\r\n  import http from \"@/services/http.js\";\r\n  import TitleView from \"../components/Title/TitleView.vue\";\r\n  import { format } from \"date-fns\";\r\n  import LoadingCircle from \"../components/loading/LoadingCircle.vue\";\r\n  import TableNormal from \"../components/Table/TableNormal.vue\";\r\n  import CountChart from \"../components/chards/CountChard.vue\";\r\n  import SexChard from \"../components/chards/SexChard.vue\";\r\n  import AgeChard from \"../components/chards/AgeChard.vue\";\r\n  import AgeChardSplit from \"../components/chards/AgeChardSplit.vue\";\r\n  import CountChardSplit from \"../components/chards/CountChardSplit.vue\";\r\n  import BrandChard from \"../components/chards/BrandChard.vue\";\r\n  export default {\r\n    name: \"DashBoard\",\r\n    components: {\r\n      TitleView,\r\n      LoadingCircle,\r\n      TableNormal,\r\n      CountChart,\r\n      SexChard,\r\n      AgeChard,\r\n      AgeChardSplit,\r\n      CountChardSplit,BrandChard\r\n    },\r\n    data() {\r\n      return {\r\n        maxAge: \"\",\r\n        minAge: \"\",\r\n        filterName: \"\",\r\n        body: {},\r\n        loading: false,\r\n        users: [],\r\n        headers:[\"Selecione Um Relatório\"],\r\n        allArray: [],\r\n        splitBySex: false,\r\n        filterChecked: false,\r\n        allChecked: true,\r\n        sex: \"A\",\r\n        startDate: \"\",\r\n        endDate: \"\",\r\n        userFilter:false,\r\n        ownerFilter:false,\r\n        carsFilter:false,\r\n        servicesFilter:false,\r\n        workersFilter:false,\r\n        brandArray:[],\r\n        brandArrayFilter:[],\r\n        modalUpdate: false,\r\n        modalFilter: false,\r\n        modalUser: false,\r\n        openModal: true,\r\n        newUser: {},\r\n        modalContent: \"\",\r\n        user: {},\r\n        owner: {},\r\n        filter: {},\r\n      };\r\n    },\r\n    methods: {\r\n      openChardModal() {\r\n        this.modalChart = true;\r\n        this.openModal = false;\r\n      },\r\n      close() {\r\n        this.user = {};\r\n        (this.modalContent = \"\"), (this.openModal = true);\r\n        this.modalUser = false;\r\n        this.modalFilter = false;\r\n        this.modalUpdate = false;\r\n        this.modalChart = false;\r\n      },\r\n      openFilterModal() {\r\n        this.modalFilter = true;\r\n        this.openModal = false;\r\n      },\r\n      toggleCheckbox(option) {\r\n        if (option == \"allChecked\") {\r\n  \r\n          this.filterChecked = false;\r\n          this.allChecked = true;\r\n        }\r\n        if (option == \"filterChecked\") {\r\n          this.allChecked = false;\r\n          this.filterChecked = true;\r\n        }\r\n      },\r\n  \r\n      async getResults() {\r\n        try {\r\n          this.loading = true;\r\n          const { data } = await http.get(\"/owners-all\");\r\n          const owners = data.owners;\r\n          await this.setUsers(owners);\r\n          const brand  = await http.post(\"/cars-brand\"); \r\n          this.brandArray = brand.data\r\n          this.brandArrayFilter = brand.data\r\n          this.allArray = this.users\r\n          this.filterChar = this.users\r\n          this.loading = false;\r\n        } catch (error) {\r\n          console.error(\"Erro ao obter os resultados:\", error);\r\n          this.loading = false;\r\n        }\r\n      },\r\n      async setUsers(array) {\r\n        const promises = array.map(async (user) => {\r\n          const body = await this.getBody(user.id);\r\n  \r\n          return {\r\n            name: user.name,\r\n            email: user.email,\r\n            created_at: format(new Date(user.created_at), \"dd/MM/yyyy\"),\r\n            implementar: {\r\n              name: user.name,\r\n              email: user.email,\r\n              id: user.id,\r\n              sex: user.sex,\r\n              age: user.age,\r\n              adress: user.adress,\r\n              body: body,\r\n            },\r\n          };\r\n        });\r\n        \r\n        this.users = await Promise.all(promises);\r\n      },\r\n  \r\n      async getBody(id) {\r\n        try {\r\n          const { data } = await http.get(`/cars-all/${id}`);\r\n          return data.data;\r\n        } catch (error) {\r\n          console.error(`Erro ao obter body para id ${id}:`, error);\r\n          throw error;\r\n        }\r\n      },\r\n      openUserModal() {\r\n        (this.user = {}), (this.modalUser = true);\r\n        this.openModal = false;\r\n      },\r\n      async addUser() {\r\n        this.loading = true;\r\n        if (\r\n          this.user.name &&\r\n          this.user.age &&\r\n          this.user.email &&\r\n          this.user.sex &&\r\n          this.user.adress\r\n        ) {\r\n          try {\r\n            await http.post(\"/owners-register\", this.user);\r\n            window.location.reload();\r\n            this.loading = false;\r\n          } catch (error) {\r\n            this.loading = false;\r\n          }\r\n        }\r\n      },\r\n      showDetails(details) {\r\n        this.modalContent = details;\r\n        this.owner = { ...details };\r\n        this.newUser = this.owner;\r\n        this.openModal = false;\r\n        this.modalUpdate = true;\r\n      },\r\n      async atualizar() {\r\n        if (JSON.stringify(this.modalContent) == JSON.stringify(this.owner)) {\r\n          alert(\"Faça uma Alteração Primeiro!\");\r\n        } else {\r\n          if (this.modalContent.name != this.owner.name) {\r\n            this.newUser.name = this.owner.name;\r\n          }\r\n          if (this.modalContent.email != this.owner.email) {\r\n            this.newUser.email = this.owner.email;\r\n          }\r\n          if (this.modalContent.sex != this.owner.sex) {\r\n            this.newUser.sex = this.owner.sex;\r\n          }\r\n          if (this.modalContent.age != this.owner.age) {\r\n            this.newUser.age = this.owner.age;\r\n          }\r\n          if (this.modalContent.adress != this.owner.adress) {\r\n            this.newUser.adress = this.owner.adress;\r\n          }\r\n          try {\r\n            this.loading = true;\r\n            await http.put(\"/update-owner\", this.newUser);\r\n            window.location.reload();\r\n            alert(\"Funcionário Atualizado com sucesso\");\r\n            this.loading = false;\r\n          } catch (error) {\r\n            console.log(error);\r\n            this.loading = false;\r\n          }\r\n        }\r\n      },\r\n      async apagar() {\r\n        this.loading = true;\r\n        try {\r\n          await http.delete(\r\n            \"/delete-owner/\" + this.modalContent.id,\r\n            this.newUser\r\n          );\r\n          alert(\"Veículo Apagado com sucesso\");\r\n          this.loading = false;\r\n          window.location.reload();\r\n        } catch (error) {\r\n          this.loading = false;\r\n        }\r\n      },\r\n      async setFilter() {\r\n        if (\r\n          this.filter == {} ||\r\n          this.filter.maxDate < this.filter.minDate ||\r\n          this.filter.maxAge < this.filter.minAge\r\n        ) {\r\n          alert(\"Por Favor Digite Corretamente\");\r\n        } else {\r\n          try {\r\n            this.loading = true;\r\n            const data = await http.post(\"/filter-owners\", this.filter);\r\n            this.setUsers(data.data.owner);\r\n            const brand = await http.post(\"/cars-brand\",this.filter,{}); \r\n            this.brandArrayFilter = brand.data\r\n            this.loading = false;\r\n            this.close();\r\n          } catch (error) {\r\n            this.loading = false;\r\n          }\r\n        }\r\n      },\r\n    },\r\n    watch: {\r\n      minAge(newVal) {\r\n        this.minAge = newVal.replace(/\\D+/g, \"\");\r\n      },\r\n      maxAge(newVal) {\r\n        this.maxAge = newVal.replace(/\\D+/g, \"\");\r\n      },\r\n      filterName(newVal) {\r\n        this.filterName = newVal.replace(/\\d+/g, \"\");\r\n      },\r\n    },\r\n    mounted() {\r\n      this.getResults();\r\n    },\r\n    computed:{\r\n      filterChar()\r\n      {\r\n      if (this.allChecked) return this.allArray;\r\n      if(this.filterChecked)return this.users\r\n      return []  \r\n      }\r\n    }\r\n  };\r\n  </script>\r\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}