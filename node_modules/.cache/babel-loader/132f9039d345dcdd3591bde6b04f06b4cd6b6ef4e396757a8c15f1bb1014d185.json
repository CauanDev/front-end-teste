{"ast":null,"code":"export function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return null;\n}","map":{"version":3,"names":[],"sources":["C:\\Users\\Usuário\\Documents\\teste-pratico\\front-end-teste\\src\\views\\ListServices.vue"],"sourcesContent":["<template>\r\n    \r\n       \r\n     \r\n     \r\n </template>  \r\n   <script>\r\n     \r\n     import http from '@/services/http.js';\r\n     import TitleView from '../components/Title/TitleView.vue';\r\n     import TableView from '../components/Table/TableView.vue';\r\n     import { format } from 'date-fns'; \r\n     import LoadingCircle from '../components/loading/LoadingCircle.vue';\r\n     \r\n     export default {\r\n       name: 'ListServices',\r\n       components: {\r\n        TitleView,TableView, LoadingCircle\r\n       },\r\n       data() {\r\n         return {\r\n           tooltip:false,\r\n           average: false,\r\n           maxAge: '',\r\n           minAge: '',\r\n           filterName: '',\r\n           loading: false,\r\n           users: [],\r\n           sex: 'A',\r\n           startDate: '',\r\n           endDate: '',\r\n           modalUpdate: false,\r\n           modalFilter: false,\r\n           modalUser: false,\r\n           openModal: true,\r\n           newUser:{},\r\n           modalContent:'',\r\n           user: {\r\n             name: '',\r\n             password:'',\r\n             email:''        \r\n           }\r\n     \r\n         };\r\n       },\r\n       methods: {\r\n       close(){\r\n         this.modalContent= '',\r\n         this.openModal = true;\r\n         this.modalUser = false;\r\n         this.modalFilter = false;\r\n         this.modalUpdate = false;\r\n       },\r\n       openFilterModal(){\r\n         this.modalFilter = true;\r\n         this.openModal = false;\r\n   \r\n       },\r\n       async getResults(){\r\n         try {\r\n           const data = await http.get('/users');\r\n           this.users = data.data.users.map(user => {\r\n               return {\r\n                \r\n                 name: user.name,\r\n                 email: user.email,      \r\n                 created_at: format(new Date(user.created_at), 'dd/MM/yyyy'),\r\n                 implementar: {\r\n                   name: user.name,\r\n                   email: user.email,     \r\n                   id: user.id,\r\n                   password: user.password\r\n                 }\r\n     \r\n               };\r\n             }\r\n     \r\n           );\r\n     \r\n         } catch (error) {\r\n           console.log(error.response)\r\n         }\r\n         \r\n         },\r\n         openUserModal(){\r\n           this.user = {\r\n             name: '',\r\n             password:'',\r\n             email:''        \r\n           },\r\n           this.modalUser= true;\r\n           this.openModal = false;\r\n         },\r\n         addUser(){\r\n           console.log(this.user)\r\n         },\r\n         showDetails(details) {\r\n           this.modalContent = details;\r\n           this.newUser.name = details.name;\r\n           this.newUser.email = details.email;\r\n           this.newUser.password = details.password;\r\n           this.user.name = details.name\r\n           this.user.email = details.email\r\n           this.openModal = false;\r\n           this.modalUpdate = true;\r\n         },\r\n         async atualizar(){\r\n             var count=0;\r\n           \r\n             if(this.modalContent.name!=this.user.name)\r\n             {\r\n               this.newUser.name = this.user.name;\r\n             }  \r\n             else count++\r\n             if(this.modalContent.email!=this.user.email && !/\\s/.test(this.user.email) )\r\n             {\r\n               this.newUser.email = this.user.email;\r\n             } else count++ \r\n             if(this.modalContent.password!=this.user.password && (this.user.password!='') )\r\n             {\r\n               this.newUser.password = this.user.password;\r\n             } else count++\r\n     \r\n             if(count != 3){\r\n             try {\r\n               this.loading = true\r\n              await http.put('/users/'+this.modalContent.id,this.newUser);\r\n              alert(\"Usuário Atualizado com sucesso\")\r\n              this.loading = false\r\n              window.location.reload();\r\n             } catch (error) {\r\n               this.loading = false\r\n             }\r\n             } \r\n      \r\n             \r\n           \r\n         },\r\n         async apagar(){\r\n           try {\r\n             this.loading = true\r\n               await http.delete('/users/'+this.modalContent.id,this.newUser);\r\n               alert(\"Usuário Apagado com sucesso\")\r\n               this.loading = false\r\n               window.location.reload();\r\n             } catch (error) {\r\n               this.loading = false\r\n             }\r\n         },\r\n         async filter(){\r\n           let users  = { }\r\n   \r\n           if(this.sex !== 'A')users.sex = this.sex;\r\n           if(this.minAge !=='')users.minAge = this.minAge;\r\n           if(this.maxAge !=='')users.maxAge = this.maxAge;\r\n           if(this.endDate !=='')users.endDate = this.endDate;\r\n           if(this.startDate !=='')users.startDate = this.startDate;\r\n           if(this.name !=='')users.name = this.name;\r\n           if (Object.keys(users).length === 1) \r\n           {\r\n             alert(\"O objeto users está vazio.\");\r\n           } \r\n           else \r\n           {\r\n             alert(\"O objeto users não está vazio.\");\r\n           }\r\n         }\r\n       },\r\n       watch:{\r\n         minAge(newVal){\r\n           this.minAge = newVal.replace(/\\D+/g, '');\r\n         },\r\n         maxAge(newVal){\r\n           this.maxAge = newVal.replace(/\\D+/g, '');\r\n         },\r\n         filterName(newVal){\r\n           this.filterName = newVal.replace(/\\d+/g, '');\r\n         }\r\n       }\r\n       ,\r\n       mounted() {\r\n         this.getResults();\r\n       }\r\n     };\r\n     </script>\r\n     \r\n     "],"mappings":"","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}